<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="770px" preserveAspectRatio="none" style="width:619px;height:770px;" version="1.1" viewBox="0 0 619 770" width="619px" zoomAndPan="magnify"><defs><filter height="300%" id="fgxtj27pc9pzf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="374" cy="16" fill="#000000" filter="url(#fgxtj27pc9pzf)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fgxtj27pc9pzf)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="170" x="289" y="67"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="150" x="299" y="88.1387">script/build.js testBinary</text><polygon fill="#FEFECE" filter="url(#fgxtj27pc9pzf)" points="374,142,386,154,374,166,362,154,374,142" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#fgxtj27pc9pzf)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="332" y="511"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="30" x="342" y="532.1387">build</text><polygon fill="#FEFECE" filter="url(#fgxtj27pc9pzf)" points="348,243.5,360,255.5,348,267.5,336,255.5,348,243.5" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M6,220 L6,290.5313 A0,0 0 0 0 6,290.5313 L316,290.5313 A0,0 0 0 0 316,290.5313 L316,259.5 L335.5877,255.5 L316,251.5 L316,230 L306,220 L6,220 A0,0 0 0 0 6,220 " fill="#FBFB77" filter="url(#fgxtj27pc9pzf)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M306,220 L306,230 L316,230 L306,220 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="12" y="237.0669">1. --sass-binary-path</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="227" x="12" y="252.1997">2. process.env.SASS_BINARY_PATH</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="289" x="12" y="267.3325">3. process.env.npm_config_sass_binary_path</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="12" y="282.4653">4. pkg.nodeSassConfig.binaryPath</text><rect fill="#FEFECE" filter="url(#fgxtj27pc9pzf)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="229.5" y="345"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="67" x="239.5" y="366.1387">test Binary</text><polygon fill="#FEFECE" filter="url(#fgxtj27pc9pzf)" points="273,433,285,445,273,457,261,445,273,433" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="234" cy="749" fill="none" filter="url(#fgxtj27pc9pzf)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="234.5" cy="749.5" fill="#000000" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><polygon fill="#FEFECE" filter="url(#fgxtj27pc9pzf)" points="424,586,436,598,424,610,412,598,424,586" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#fgxtj27pc9pzf)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="460" y="664"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="128" x="470" y="685.1387">node-gyp not found!</text><rect fill="#FEFECE" filter="url(#fgxtj27pc9pzf)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="252" y="664"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="262" y="685.1387">Build failed</text><rect fill="#FEFECE" filter="url(#fgxtj27pc9pzf)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="360" y="664"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="370" y="685.1387">afterBuild</text><!--MD5=[b42b8333c254f0f9988ab404c845d658]
link start to script/build.js testBinary--><path d="M374,26.0336 C374,35.4082 374,49.7285 374,61.7898 " fill="none" id="start-&gt;script/build.js testBinary" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="374,66.7995,378,57.7995,374,61.7995,370,57.7995,374,66.7995" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c25a7d73062823dbb4ef694b629ecee9]
link script/build.js testBinary to #4960--><path d="M374,101.3034 C374,112.1588 374,126.0963 374,136.9108 " fill="none" id="script/build.js testBinary-&gt;#4960" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="374,141.9417,378,132.9417,374,136.9417,370,132.9417,374,141.9417" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="272" x="82.025" y="137.5589">options.force || SASS_FORCE_BUILD(force build)</text><!--MD5=[4ba22593a6a478825f22bdad555fcece]
link #4960 to build--><path d="M377.5819,162.5145 C384.4946,179.7431 399,220.1111 399,255.5 C399,255.5 399,255.5 399,445 C399,467.733 386.3012,490.5611 374.8689,506.5063 " fill="none" id="#4960-&gt;build" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="371.6896,510.8153,380.2518,505.9482,374.6582,506.792,373.8144,501.1984,371.6896,510.8153" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="23" x="400" y="366.2104">true</text><!--MD5=[22665100fb59cedaadbed0a3b76c809b]
link #4960 to #5015--><path d="M368.0214,160.8157 C363.0338,166.9451 356.2375,176.4325 353,186 C347.1123,203.3996 346.45,224.6095 346.8857,238.9883 " fill="none" id="#4960-&gt;#5015" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="347.1075,244.3283,350.7302,235.1699,346.8998,239.3326,342.7371,235.5022,347.1075,244.3283" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="354" y="197.2104">false</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="363.7617" y="233.106">has Binary</text><!--MD5=[6f2388b728dd60b1c4a307192abc5f5b]
link #5015 to test Binary--><path d="M343.7153,263.4196 C339.5684,270.8218 332.9107,282.0454 326,291 C318.5092,300.7062 314.6509,301.4196 307,311 C299.5813,320.2897 292.1625,331.184 286.1566,340.5133 " fill="none" id="#5015-&gt;test Binary" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="283.3279,344.9536,291.5372,339.5123,286.0144,340.7367,284.7901,335.2139,283.3279,344.9536" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="23" x="308" y="322.2104">true</text><!--MD5=[a3af18070b9cfcb6348541bdfa7bb338]
link test Binary to #5093--><path d="M273,379.1977 C273,393.2822 273,413.1331 273,427.3416 " fill="none" id="test Binary-&gt;#5093" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="273,432.6749,277,423.6749,273,427.6749,269,423.6749,273,432.6749" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="180.6563" y="422.5961">Binary is fine</text><!--MD5=[90dc8c1db429b1d6766d204f2ceffec7]
link #5093 to end--><path d="M266.2019,450.6662 C252.1067,463.093 221,494.3318 221,528 C221,528 221,528 221,681 C221,699.6751 225.7888,720.7301 229.5534,734.3969 " fill="none" id="#5093-&gt;end" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="230.9849,739.426,232.3682,729.6748,229.616,734.617,224.6738,731.8649,230.9849,739.426" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="23" x="222" y="602.2104">true</text><!--MD5=[3260f3849775c9a00d54377fcd160ea5]
link #5093 to build--><path d="M276.8347,453.1872 C281.7009,462.9779 290.8212,479.4843 302,491 C309.4397,498.6639 318.7142,505.6341 327.5152,511.4062 " fill="none" id="#5093-&gt;build" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="331.7875,514.1413,326.3646,505.9199,327.5766,511.4454,322.0511,512.6573,331.7875,514.1413" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="303" y="488.2104">false</text><!--MD5=[eff70afe16806e1fce616223770550ff]
link #5015 to build--><path d="M348.3641,267.355 C349.1727,293.5985 351.19,358.5886 353,413 C354.0744,445.2986 355.3881,482.6972 356.2098,505.8538 " fill="none" id="#5015-&gt;build" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="356.3874,510.8551,360.0652,501.7187,356.2098,505.8583,352.0703,502.0028,356.3874,510.8551" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="354" y="410.2104">false</text><!--MD5=[9ff36336dfe287f099783aabbd5f91ad]
link build to #5100--><path d="M373.5618,545.3034 C386.4006,558.717 403.7436,576.8366 414.3855,587.955 " fill="none" id="build-&gt;#5100" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="417.9823,591.7129,414.6489,582.4453,414.525,588.1008,408.8695,587.9769,417.9823,591.7129" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="346.1941" y="585.2437">errorCode</text><!--MD5=[37ac3f8341de0c22772f1cdaaaf4117f]
link #5100 to node-gyp not found!--><path d="M432.4647,601.6466 C444.3467,606.9691 466.3778,617.5935 483,630 C494.6936,638.7279 506.3089,650.0775 515.4942,659.8535 " fill="none" id="#5100-&gt;node-gyp not found!" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="519.0181,663.6536,515.8314,654.3345,515.6183,659.9874,509.9655,659.7742,519.0181,663.6536" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="499" y="641.2104">errorCode==127</text><!--MD5=[80df84009948c0dc9030ca8ffe631712]
link #5100 to Build failed--><path d="M412.8327,599.1946 C384.976,602.421 313.6063,612.2834 299,630 C292.6209,637.7375 291.2913,648.5883 291.7952,658.2931 " fill="none" id="#5100-&gt;Build failed" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="292.2434,663.5397,295.4626,654.2318,291.8177,658.5579,287.4916,654.913,292.2434,663.5397" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="300" y="641.2104">errorCode==other</text><!--MD5=[c8fbfaa16326d7453138e37310200150]
link #5100 to afterBuild--><path d="M421.2469,607.5212 C417.6539,619.9468 411.2548,642.0773 406.4153,658.8139 " fill="none" id="#5100-&gt;afterBuild" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="404.9683,663.8181,411.311,656.2835,406.3573,659.0149,403.6259,654.0612,404.9683,663.8181" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="416" y="641.2104">!errorCode</text><!--MD5=[dba0ea437bd2f1962c30885b91a03fa4]
link afterBuild to end--><path d="M359.816,697.4609 C323.6251,712.2861 272.4782,733.2378 248.0503,743.2445 " fill="none" id="afterBuild-&gt;end" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="243.2582,745.2075,253.1028,745.4972,247.885,743.3121,250.0701,738.0943,243.2582,745.2075" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[3473573c4d7e125f6a3af96570bdbec2]
@startuml node-sass postinstall
(*) - -> script/build.js testBinary
if "options.force || SASS_FORCE_BUILD(force build)" then
  - ->[true] "build"
else
  - -> [false] if "has Binary" then
    note left
      1. - -sass-binary-path
      2. process.env.SASS_BINARY_PATH
      3. process.env.npm_config_sass_binary_path
      4. pkg.nodeSassConfig.binaryPath
    endnote
    - ->[true] "test Binary"
      if "Binary is fine" then
        - ->[true] (*)
      else
        - ->[false] "build"
      endif
  else
    - ->[false] build
      if "errorCode" then
        - ->[errorCode==127] node-gyp not found!
      else
        - ->[errorCode==other] Build failed
      else
        - ->[!errorCode] afterBuild
        - -> (*)

@enduml

PlantUML version 1.2020.12(Sat Jun 06 10:54:15 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>